<div class="container mx-auto p-4">
  <h2 class="text-2xl font-semibold mb-4">Driver Management</h2>

  <form [formGroup]="driverForm" (ngSubmit)="addDriver()" class="mb-4">
    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700">Driver Name</label>
      <input type="text" formControlName="name" class="mt-1 p-2 border rounded-md w-full">
    </div>

    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700">Upload License</label>
      <input type="file" (change)="onFileChange($event)" #fileInput class="mt-1 p-2 border rounded-md w-full">
    </div>

    <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700" [disabled]="loading">
      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-2"></span>
      <span>{{ loading ? 'Submitting...' : 'Add Driver' }}</span>
    </button>
  </form>

  <h3 class="text-xl font-semibold mb-2">Existing Drivers</h3>
  <table class="min-w-full bg-white shadow-md rounded-lg overflow-hidden">
    <thead>
      <tr>
        <th class="py-2 px-4 border-b text-left">Name</th>
        <th class="py-2 px-4 border-b text-left">License</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let driver of drivers">
        <td class="py-2 px-4 border-b text-left align-middle">{{ driver.name }}</td>
        <td class="py-2 px-4 border-b text-left align-middle">
          <a [href]="driver.licenseImageUrl" target="_blank" class="text-blue-600 underline">View License</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>